---
title: Docker
tags: Docker
---

*由简书搬迁而来[**原文链接**](https://www.jianshu.com/p/abf15b79a7e9)*

> 目录  
>   1 Docker简介   
>   2 Docker体系结构  
>   3 Docker内部组件  
>
> 参考资料  
>   · 李振良Docker  

# Docker简介

## Docker概述

  Docker是一个开源的应用容器引擎，使用Go语言开发，基于Linux内核的cgroup，namespace，Union Fs等技术，对应用进程进行封装隔离，并且独立与宿主机与其他进程，这种**运行时封装的状态称为容器**。

  Docker理念是将应用及依赖包打包到一个可移植的容器中，可发布到任意Linux发行版Docker引擎上，使用沙箱机制运行程序，程序之间相互隔离。

## 虚拟机与容器区别

![img](/../assets/Docker/1240-20210703124724000.png)

![img](/../assets/Docker/1240-20210703124723983.png)

## 应用背景

![img](/../assets/Docker/1240-20210703124723950.png)

# Docker体系结构

![img](/../assets/Docker/1240-20210703124723951.png)

![img](/../assets/Docker/1240-20210703124723981.png)

  Docker客户端执行命令，Docker主机收到命令后，调用守护进程。若是拉取镜像操作，先从本地仓库拉取，没有的话再去Docker 仓库拉取。通过镜像即可启动容器。

# Docker内部组件

![img](/../assets/Docker/1240-20210703124723966.png)

**· 命名空间**

  Docker有自己的网络IP、进程、文件系统等，看不到宿主机或者其他容器中的进程，隔离作用是命名空间起的作用。

![img](/../assets/Docker/1240-20210703124723990.png)

# 镜像管理

## 镜像概述

![img](/../assets/Docker/1240-20210703124723993.png)

## 镜像与容器联系

![img](/../assets/Docker/1240-20210703124724017.png)

## 存储驱动

  存储驱动管理Docker容器的本地存储空间。一般设置为overlay2

<img src="/../assets/Docker/1240-20210703124724037.png" alt="img" style="zoom:67%;" />

## 镜像管理命令

![img](/../assets/Docker/1240-20210703124724046.png)

# 容器管理

## 创建容器常用选项

![img](/../assets/Docker/1240-20210703124724161.png)

## 管理容器常用命令

![img](/../assets/Docker/1240-20210703124724114.png)

# 管理应用程序数据

## Docker主机数据挂载到容器的方式

  为避免数据随着容器的关闭而丢失，提供容器数据持久化方式。

![img](/../assets/Docker/1240-20210703124724108.png)

## Volume

![img](/../assets/Docker/1240-20210703124724080.png)

  多个容器可以使用同一个数据卷实现数据的共享。

## Bind Mounts

![img](/../assets/Docker/1240-20210703124724095.png)

# Dockerfile

## 常用指令

  每个仓库中都包含了一个名为Dockerfile的文件。Dockerfile是一个纯文本文件，其中描述了如何将应用构建到Docker镜像中。

![img](/../assets/Docker/1240-20210703124724105.png)

## 示例

![img](/../assets/Docker/1240-20210703124724140.png)

# 镜像仓库

## 搭建私有镜像仓库

![img](/../assets/Docker/1240-20210703124724163.png)

![img](/../assets/Docker/1240-20210703124724159.png)

## Docker Hub的使用

![img](/../assets/Docker/1240-20210703124724172.png)
