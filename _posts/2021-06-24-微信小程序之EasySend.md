---
title: å¾®ä¿¡å°ç¨‹åºä¹‹EasySend
tags: å¾®ä¿¡å°ç¨‹åº,Project
---
# å¾®ä¿¡å°ç¨‹åºä¹‹EasySend

# é¡¹ç›®ä»‹ç»

â€‹	è§£å†³ç§»åŠ¨ç«¯å’Œpcç«¯ï¼Œæ–‡å­—å¤åˆ¶å’Œæ–‡ä»¶ä¼ è¾“åŒæ­¥é—®é¢˜ã€‚å½“ç„¶ios+MacOsç”¨æˆ·è‡ªè¡Œç•¥è¿‡ï½

- ç§»åŠ¨ç«¯

  å¾®ä¿¡å°ç¨‹åº ï¼ˆè¿™é‡Œæ–‡ä»¶æ¨¡å—ï¼Œé‡‡ç”¨<web-view/>ç»„ä»¶ï¼Œåªèƒ½åœ¨å¼€å‘è€…å·¥å…·ä¸­å¯ä»¥ä½¿ç”¨ï¼Œç‹—å¤´ğŸ¶ï½ï¼‰

- æœåŠ¡ç«¯

  Springboot + SpringMVC + Mybatis + Redis

è¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ç›®çš„ï¼Œæ˜¯æƒ³èµ°é€šå¾®ä¿¡å°ç¨‹åºå’ŒæœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ï½ã€‚æ¯•ç«Ÿï¼Œè¦è®°ä½è‡ªå·±æ˜¯ä¸ª**åç«¯å¼€å‘å·¥ç¨‹å¸ˆ**ã€‚ä¸ç†Ÿæ‚‰å¾®ä¿¡å°ç¨‹åºçš„å¯ä»¥å…ˆ[ç”±æ­¤å…¥é—¨](https://jason-qianhao.github.io/_posts/2021-06-21-å¾®ä¿¡å°ç¨‹åºå…¥é—¨ä¹‹PuppyDogPitures/)ï¼Œä¸ç†Ÿæ‚‰åç«¯å¼€å‘çš„ï¼Œç›´æ¥è¿›å…¥[æˆ‘çš„ä¸»é¡µ](https://jason-qianhao.github.io/tags/)~

é¡¹ç›®åœ°å€ï¼š[EasySend](https://github.com/Jason-QianHao/EasySend)ï¼Œå¯ä»¥è‡ªè¡ŒæŸ¥é˜…æºç ï½

# ç‰¹å¾Featrues

- å¾®ä¿¡å°ç¨‹åºä¸åç«¯æœåŠ¡å™¨äº¤äº’
- æœåŠ¡å™¨ç«¯ä½¿ç”¨Redisç¼“å­˜æ–‡å­—æ¶ˆæ¯ï¼Œå¹¶è®¾è®¡æ·˜æ±°ç®—æ³•ï¼Œåªä¿å­˜è¿‘10ä¸ªæ–‡å­—æ¶ˆæ¯
- æœåŠ¡å™¨ç«¯ä½¿ç”¨MySQLå­˜å‚¨æ–‡ä»¶ä¿¡æ¯ï¼Œå¹¶é€šè¿‡æ•°æ®åº“çš„åˆ é™¤å’Œæ’å…¥æ“ä½œï¼Œåªä¿å­˜è¿‘10ä¸ªæ–‡ä»¶æ¶ˆæ¯
- æ•°æ®åº“è®¾ç½®æ–‡ä»¶åå”¯ä¸€ç´¢å¼•ï¼Œæ–‡ä»¶ä¸å¯ä»¥é‡å¤ä¸Šä¼ 
- Springbootçš„äº‹ç‰©å›æ»šçš„ä½¿ç”¨


# ç³»ç»Ÿå±•ç¤º

## å¾®ä¿¡å°ç¨‹åºé¡µé¢

<img src="/../assets/EasySend/image-20210624121422622.png" alt="image-20210624121422622" style="zoom:40%;" />

<img src="/../assets/EasySend/image-20210624121601638.png" alt="image-20210624121601638" style="zoom:40%;" />

<img src="/../assets/EasySend/image-20210624121625550.png" alt="image-20210624121625550" style="zoom:40%;" />

## è¿è¡Œ

### æ–‡å­—å¤åˆ¶

<img src="/../assets/EasySend/image-20210624121716386.png" alt="image-20210624121716386" style="zoom:50%;" />

å¯ä»¥åœ¨Pcç«¯æµè§ˆå™¨æ‰“å¼€ï¼š

<img src="/../assets/EasySend/image-20210624121753826.png" alt="image-20210624121753826" style="zoom:40%;" />

### æ–‡ä»¶ä¼ è¾“

<img src="/../assets/EasySend/image-20210624121827637.png" alt="image-20210624121827637" style="zoom:40%;" />

å¯ä»¥åœ¨Pcç«¯æµè§ˆå™¨æ‰“å¼€ï¼š

<img src="/../assets/EasySend/image-20210624121959942.png" alt="image-20210624121959942" style="zoom:40%;" />

# å¾®ä¿¡å°ç¨‹åºè®¾è®¡

â€‹	ç§»åŠ¨ç«¯çš„è®¾è®¡ï¼Œä¸»è¦åˆ†ä¸º3ä¸ªé¡µé¢ï¼š

- å…³äºé¡µé¢ï¼Œç®€å•ä»‹ç»å°ç¨‹åº
- æ–‡å­—é¡µé¢ï¼Œæ˜¯æä¾›æ–‡å­—å¤åˆ¶äº¤äº’
- æ–‡ä»¶é¡µé¢ï¼Œæ˜¯æä¾›æ–‡ä»¶ä¼ è¾“äº¤äº’

1.  é…ç½®app.json

   ç»™å°ç¨‹åºè¿›è¡Œå…¨å±€é…ç½®ï¼Œä¸»è¦æ˜¯é¡µé¢é…ç½®å’ŒtabBaré…ç½®ã€‚

   ```
     "pages":[
       "pages/intro/intro",
       "pages/index/index",
       "pages/file/file"
     ],
     "window":{
       "backgroundTextStyle":"light",
       "navigationBarBackgroundColor": "#fff",
       "navigationBarTitleText": "EasySend",
       "navigationBarTextStyle":"black"
     },
     "tabBar": {
       "position": "top",
       "color": "#ccc",
       "list": [
         {
           "pagePath": "pages/intro/intro",
           "text": "å…³äº"
         },
         {
         "pagePath": "pages/index/index",
         "text": "æ–‡å­—"
         },
         {
           "pagePath": "pages/file/file",
           "text": "æ–‡ä»¶"
         }
     ]
     },
   ```

2. ç¼–å†™å…³äºé¡µé¢

   æˆ‘çš„ä¹ æƒ¯è¿˜æ˜¯å…ˆç¼–å†™.wxmlæ–‡ä»¶ï¼Œä¸»è¦å°±æ˜¯å‡ æ®µæ–‡å­—çš„ä»‹ç»è¿˜æœ‰"ä¸€é”®å¤åˆ¶æŒ‰é’®"ã€‚ç„¶åå†å†™.jsæ–‡ä»¶ï¼Œè¿™é‡Œä¸»è¦è¯´ä¸€ä¸‹æŒ‰é’®ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¸€ä¸ªå…³äºå‰ªåˆ‡æ¿çš„api `wx.setClipboardData`ï¼Œå¯ä»¥æŸ¥çœ‹[å®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/api/device/clipboard/wx.getClipboardData.html)ã€‚

   ```
   //.wxml
   //...
   <button class="bun" type="primary" bindtap="bunCopy">ä¸€é”®å¤åˆ¶ï¼ˆå¯ä»¥å»æ–‡å­—æ¿å—ç²˜è´´å‘é€åˆ°æµè§ˆå™¨</button>
   ```

   ```
    // .js
    //...
    bunCopy: function(res){
       wx.setClipboardData({
         data: 'http://3a40r96515.zicp.vip/EasySend/getCopyList',
         success (res) {
           // wx.getClipboardData({
           //   success (res) {
           //     console.log(res.data) // data
           //   }
           // })
         }
       })
     },
   ```

3. ç¼–å†™æ–‡å­—é¡µé¢

   æ–‡å­—çš„.wxmlç”±æ–‡æœ¬è¾“å…¥æ¡†å’ŒæŒ‰é’®ç»„æˆï¼Œåé¢åŠ äº†æ–‡å­—ä¸Šä¼ çš„å“åº”ç»“æœï¼ŒæˆåŠŸæ˜¾ç¤º`successfully`ï¼Œå¤±è´¥æ˜¾ç¤º`fail`ã€‚

   ```
   <view class="container">
     <view class="search">
       <input class="input" placeholder="å¤åˆ¶éœ€è¦ä¼ è¾“çš„æ–‡å­—åˆ°æœ¬æ¡†" bindinput="bindKeyInput"/>
       <button bindtap="enter">Enter</button>
     </view>
     <view class="result">{{result}}</view>
   </view>
   ```

   åœ¨jsæ–‡ä»¶ä¸­ï¼Œè¿˜æ˜¯æ ¹æ®æŒ‰é’®çš„`ç‚¹å‡»äº‹ä»¶`ï¼Œè°ƒç”¨å¾®ä¿¡çš„ç½‘ç»œè¯·æ±‚APIã€‚

   ```js
   wx.request({
         url: 'http://3a40r96515.zicp.vip/EasySend/easyCopy?msg=' + that.data.inputVal,
         header: {
           "Content-Type": "application/json"
         },
         success: function (res) {
           var t = res.data;
           if(t == 200){
             that.setData({
               result: 'Successful !!!'
             })
           }else {
             that.setData({
               result: 'Failed !!!'
             })
           }
         }
       })
   ```

4. ç¼–å†™æ–‡ä»¶é¡µé¢

   è¿™é‡Œæ˜¯ä¸ªå¤§å‘ï¼Œä¹Ÿæ˜¯æœ€ç‹—è¡€çš„å‰§æƒ…ï¼Œå¾®ä¿¡å°ç¨‹åºæ²¡æœ‰æä¾›æ–‡ä»¶ä¸Šä¼ api!!!ï¼Œæœ‰å…³äºå›¾ç‰‡ç›¸å…³çš„APIå¯ä»¥è‡ªå·±æŸ¥é˜…ã€‚ç½‘ä¸Šæœç´¢äº†å¾ˆå¤šèµ„æ–™åï¼Œå¾ˆå¤šäººä½¿ç”¨<web-view>ç»„ä»¶ï¼Œé€šè¿‡åµŒå…¥htmlé¡µé¢æ¥å®ç°æ–‡ä»¶ä¸Šä¼ çš„åŠŸèƒ½ï¼Œå¯ä»¥æŸ¥çœ‹ç»„ä»¶çš„[å®˜æ–¹æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/component/web-view.html)ã€‚

```
<view class="container">
  <web-view class='web' src="http://3a40r96515.zicp.vip/EasySend/index.html"></web-view>
</view>
```

â€‹	ä¸è¿‡è¯è¯´å›æ¥ï¼Œè¿™ä¸ªç»„ä»¶è¿˜æ˜¯è›®å¼ºå¤§çš„ï½ã€‚æˆ‘ä»¬éå®¢æˆ·ç«¯å¼€å‘çš„äººï¼Œè‚¯å®šç†Ÿæ‚‰htmlæ¯”appè¦å¤šï¼Œå¯¹å§ã€‚**æ³¨æ„**ï¼Œè¿™ä¸ªç»„ä»¶æ˜¯å…¨å±åµŒå…¥å¤šï¼Œå¦‚æœ.wxmlä¸­è¿˜å†™å…¥äº†å¾®ä¿¡å°ç¨‹åºçš„å…¶ä»–ç»„ä»¶ï¼Œæ˜¯æ— æ³•æ˜¾ç¤ºçš„ã€‚å½“ç„¶æ˜¯å¦æœ‰å…¶ä»–æ–¹æ³•æ˜¾ç¤ºï¼Œæ²¡æœ‰æŸ¥é˜…ğŸ¶ã€‚

# æœåŠ¡å™¨ç«¯è®¾è®¡

â€‹	ç»ˆäºåˆ°äº†è‡ªå·±ç†Ÿæ‚‰çš„é¢†åŸŸã€‚å¦‚ä»‹ç»æ‰€è¯´ï¼Œåç«¯æ¶æ„åŸºäºSpringbootå¼€å‘ï¼ŒåºŸè¯å°‘è¯´ï¼Œç›´æ¥å¼€å§‹ï½

## ä¾èµ–å¼•å…¥

â€‹	è¿™é‡Œç”¨åˆ°çš„æœ‰Redisã€Mybatisã€MySQLï¼Œæˆ‘è¿˜åŠ äº†ä¸€ä¸ªæ’ä»¶lombookï¼Œå®ƒä¸ä»…å¯ä»¥æä¾›æ—¥å¿—ç›¸å…³çš„æ–¹æ³•ï¼Œæœ€ä¸»è¦è¿˜ç»™JavaBeanæä¾›äº†`@Getter`å’Œ`@Setter`æ³¨è§£ï¼ŒçœåŒºäº†æ‰‹åŠ¨æˆ–è€…IDEç”Ÿæˆ`get`å’Œ`set`æ–¹æ³•ï¼Œæ€ä¹ˆé…ç½®å¯ä»¥å»[Springbootåšå®¢](https://jason-qianhao.github.io/_posts/2021-05-06-SpringBoot/)æŸ¥é˜…å“¦ï½

```html
<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>1.5.2.RELEASE</version>
		<relativePath /> <!-- lookup parent from repository -->
	</parent>
	<dependencies>
		<!-- é›†æˆweb -->
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>
		<!-- é›†æˆRedis -->
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-redis</artifactId>
		</dependency>
		<!-- é›†æˆfreemarker -->
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-freemarker</artifactId>
		</dependency>
		<!--Lombok -->
		<dependency>
			<groupId>org.projectlombok</groupId>
			<artifactId>lombok</artifactId>
			<version>1.18.6</version>
		</dependency>
		<dependency>
			<groupId>net.logstash.logback</groupId>
			<artifactId>logstash-logback-encoder</artifactId>
			<version>4.9</version>
		</dependency>
		<!-- Mybatis -->
		<dependency>
			<groupId>org.mybatis.spring.boot</groupId>
			<artifactId>mybatis-spring-boot-starter</artifactId>
			<version>1.1.1</version>
		</dependency>
		<dependency>
			<groupId>mysql</groupId>
			<artifactId>mysql-connector-java</artifactId>
			<version>5.1.46</version>
		</dependency>
	</dependencies>
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
				<version>1.4.2.RELEASE</version>
				<configuration>
					<mainClass>com.qian.EasySendApp</mainClass>
				</configuration>
			</plugin>
		</plugins>
	</build>
```

æ³¨æ„ä¸‹é¢æœ‰å…³äºmavenæ’ä»¶çš„é…ç½®ï¼Œæ˜¯ä¸ºäº†æ‰“åŒ…éƒ¨ç½²çš„ï¼Œè¿™ä¸ªåé¢å†è¯´ï½

## é…ç½®æ–‡ä»¶

â€‹	ä¸»è¦å¯¹Springbootã€Redisã€Freemarkerå’ŒMysqlçš„é…ç½®ã€‚éƒ½æ˜¯å¸¸è§çš„é…ç½®ï¼Œå¾ˆå¤šä¹Ÿæ˜¯é€šç”¨çš„ï¼Œä¸åŒçš„å¯ä»¥è‡ªå·±æŸ¥é˜…èµ„æ–™ï¼ˆå…¶å®ç›´æ¥ç”¨å°±å¯ä»¥ï¼ŒçŸ¥é“ä¸ªåˆ«å…³é”®çš„å±æ€§é…ç½®å°±è¡Œï¼‰

```yaml
server:
   port: 80
   context-path: /EasySend
spring:
#redis
   redis:
      host: localhost
      password: 123456
      port: 6379
      pool:
         max-idle: 100
         min-idle: 1
         max-active: 1000
         max-wait: -1
# mysql
   datasource:
      url: jdbc:mysql://localhost:3306/easysend
      username: root
      password: root
      driver-class-name: com.mysql.jdbc.Driver
   freemarker:
      allow-request-override: false
      cache: true
      check-template-location: true
      charset: UTF-8
      content-type: text/html
      expose-request-attributes: false
      expose-session-attributes: false
      expose-spring-macro-helpers: false
      suffix: .ftl
      template-loader-path: classpath:/templates/
#é…ç½®ä¸Šä¼ æ–‡ä»¶å¤§å° spring.http.multipart.maxFileSize = 10Mb  spring.http.multipart.maxRequestSize=100Mb
   http:
      multipart:
         maxFileSize: 100MB
         maxRequestSize: 200MB
```

## æ–‡å­—å¤åˆ¶çš„å¼€å‘

è®¾è®¡æ€è·¯ï¼š

- ä»requestä¸­è¯»å–å¾®ä¿¡å°ç¨‹åºå‘è¿‡æ¥çš„ä¿¡æ¯ï¼Œç„¶åå­˜å…¥Redisä¸­

- Redisçš„å€¼ç±»å‹ä¸ºListåˆ—è¡¨ç±»å‹

- Redisåœ¨æ’å…¥çš„æ—¶å€™å…ˆåˆ¤æ–­åˆ—è¡¨é•¿åº¦æ˜¯å¦å¤§äº10ï¼Œå¦‚æœè¶…è¿‡å°±å…ˆåˆ é™¤æœ€å…ˆåŠ å…¥çš„ä¿¡æ¯ï¼ˆç±»ä¼¼LRUç®—æ³•ï¼‰ï¼Œå†æ’å…¥æ–°æ¶ˆæ¯ï¼Œè¿”å›æ’å…¥æˆåŠŸ

- æŸ¥è¯¢æ—¶ï¼Œç›´æ¥æ ¹æ®Redisçš„é”®â€œmsg"æŸ¥å¤„åˆ—è¡¨å³å¯

**tips**: è¿™é‡Œè®¾è®¡çš„æ—¶å€™ï¼ŒRedisæˆ‘åªç”¨æ¥ä¸€ä¸ªé”®å­˜å‚¨åˆ—è¡¨æ¶ˆæ¯ï¼ŒæŠŠé€»è¾‘ç®€åŒ–äº†ã€‚ä½†å®é™…ä¸Šï¼Œå¯ä»¥è¯»å–å°ç¨‹åºçš„openIdä¹‹ç±»çš„ï¼Œå°†æ¯ä¸ªç”¨æˆ·çš„åˆ—è¡¨åˆ†å¼€å­˜å‚¨ï¼Œè¿™é‡Œä¸ºäº†ç®€åŒ–è®¾è®¡å°±çœå»äº†ï½

å¦å¤–ï¼ŒæœåŠ¡ç«¯å¼€å‘æ˜¯ä»æ•°æ®å±‚ï¼Œåˆ°é€»è¾‘å±‚ï¼Œæœ€åæ˜¯æ§åˆ¶å±‚çš„ã€‚

1. å†™Redisçš„ç›¸å…³æœåŠ¡

   æˆ‘å·²ç»å°è£…å¥½äº†å¸¸ç”¨çš„æ–¹æ³•ï¼Œåœ¨[è¿™é‡Œ](https://jason-qianhao.github.io/_posts/2021-06-22-Redisç¯å¢ƒæ­å»º)æ‰¾ä¸€ä¸‹ã€‚

2. å†™ä¸šåŠ¡å±‚

   ```java
   	/*
   	 * å‚æ•°ï¼šredisçš„key åŠŸèƒ½ï¼šæ–°æ·»ä¸€ä¸ªmsg
   	 */
   	public void addMsg(String msg) {
   		List<Object> tmp = (List<Object>) redisService.getList(Constants.MSG);
   		redisService.removeStringKey(Constants.MSG);
   		LinkedList<Object> list = new LinkedList(tmp);
   		while (list.size() > 10) {
   			redisService.removeKey(Constants.MSG, (String) list.pollFirst());
   		}
   		list.offerLast(msg);
   		redisService.redisSetList(Constants.MSG, list);
   	}
   
   	/*
   	 * å‚æ•°ï¼šredisçš„key åŠŸèƒ½ï¼šç¿»è¯‘keyçš„åˆ—è¡¨list
   	 */
   	public List<String> getAllMsg() {
   		List<String> tmp = (List<String>) redisService.getList(Constants.MSG);
   		LinkedList<String> list = new LinkedList(tmp);
   		return list;
   	}
   ```

   

3. æ§åˆ¶å±‚

   ```java
   @Controller
   public class EasyCopyController {
   	
   	@Autowired
   	private EasySendService easySendService;
   	
   	@RequestMapping(value = "/easyCopy")
   	@ResponseBody
   	public String easyCopy(HttpServletRequest req) {
   		// è·å–ç”¨æˆ·ç§»åŠ¨ç«¯msg
   		String msg = req.getParameter(Constants.MSG); // è¿™é‡Œåé¢éœ€è¦é€šè¿‡ç”¨æˆ·å”¯ä¸€IDæ¥è·å–msg
   		// å°†ç§»åŠ¨ç«¯msgæ’å…¥Redis
   		easySendService.addMsg(msg);
   		return Constants.COPY_SUCCESS;
   	}
   	
   	@RequestMapping("/getCopyList")
   	public String getCopyList(HttpServletRequest req) {
   		req.setAttribute("listResource", easySendService.getAllMsg());
   		return "copy";
   	}
   	
   }
   ```

   

## æ–‡ä»¶ä¼ è¾“çš„å¼€å‘

â€‹	è¿™ä¸ªæ¶‰åŠåˆ°æ•°æ®åº“å’Œæœ¬åœ°ç£ç›˜çš„å­˜å‚¨ï¼Œä¼šæ¯”æ–‡å­—å¤åˆ¶æ¨¡å—è¦å¤æ‚ä¸€äº›ã€‚

- ä»httpè¯·æ±‚ä¸­è¯»å–æ–‡ä»¶ï¼Œå¹¶è¿›è¡Œæœ¬åœ°å­˜å‚¨ï¼ŒåŒæ—¶æ’å…¥ä¸€æ¡æ•°æ®åº“è®°å½•ï¼Œè¿”å›æ’å…¥ç»“æœæˆåŠŸä¸å¦
- åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œæ ¹æ®ç›¸å…³æ ‡è¯†ï¼Œåˆ¤æ–­è®°å½•æ˜¯å¦å¤§äº10ï¼Œå¦åˆ™éœ€è¦ä»ç¬¬ä¸€æ¡è®°å½•å¼€å§‹åˆ é™¤ï¼ŒåŒæ—¶åœ¨æ•°æ®åº“è¡¨æœ€åæ’å…¥æ–°çš„è®°å½•
- é€šè¿‡ç‰¹å®šurlæŸ¥çœ‹æ‰€æœ‰æ–‡ä»¶åˆ—è¡¨æ—¶ï¼Œéœ€è¦æŸ¥è¯¢æ•°æ®åº“çš„æ‰€æœ‰è®°å½•
- ç‚¹å‡»ä¸‹è½½æŒ‰é’®æ—¶ï¼Œéœ€è¦é€šè¿‡æµè¾“å‡ºç›¸å…³æ–‡ä»¶

ä»£ç æ­¥éª¤å¦‚ä¸‹ï¼š

1. åˆ›å»ºæ•°æ®åº“

   â€‹	åªæœ‰3ä¸ªå­—æ®µï¼Œç›´æ¥çœ‹JavaBeanå§

2. åˆ›å»ºå®ä½“ç±»

   ```java
   @Setter
   @Getter
   public class FileEntity {
   
   	private int id;
   	private String name;
   	private String url;
   }
   
   ```

   

3. mapperæ¥å£

   ```java
   public interface FileMapping {
   
   	/*
   	 * æ·»åŠ æ–‡ä»¶è¿›æ•°æ®åº“
   	 */
   	@Insert("insert into `file_table` values(null, #{fileEntity.name}, #{fileEntity.url})")
   	public void addFile(@Param("fileEntity") FileEntity fileEntity);
   	
   	/*
   	 * æ ¹æ®idä¿®æ”¹æ–‡ä»¶
   	 */
   	@Update("update `file_table` set `name` = #{fileEntity.name}, `url` = #{fileEntity.url} "
   			+ "where id = #{id}")
   	public void updateFileById(@Param("id") int id, @Param("fileEntity") FileEntity fileEntity);
   	
   	/*
   	 * æ ¹æ®idåˆ é™¤æ–‡ä»¶
   	 */
   	@Delete("delete from `file_table` where id = #{id}")
   	public void removeFileById(int id);
   	/*
   	 * æŸ¥è¯¢æ‰€æœ‰æ–‡ä»¶
   	 */
   	@Select("select * from `file_table`")
   	public List<FileEntity> getFileList();
   }
   ```

   

4. Serviceå±‚

   å…·ä½“ä»£ç è§githubæºç å§ï¼Œåœ°å€åœ¨å¼€å¤´è¯´äº†ï½

5. æ§åˆ¶å±‚

   æ³¨æ„è¿™é‡Œä¼ è¾“æ–‡ä»¶çš„æ—¶å€™ï¼Œæˆ‘çš„è¿”å›å€¼ä¸ºvoidï¼Œè¿™é‡Œå¹¶ä¸éœ€è¦Stringã€‚è¿˜æœ‰æ˜¯å¦è¿”å›å­—ç¬¦ä¸²è¿˜æ˜¯é¡µé¢ï¼Œå¯ä»¥é€šè¿‡`@ResponseBody`æ³¨è§£æ§åˆ¶ã€‚

   ```java
   	@RequestMapping("/easyFile")
   	@ResponseBody
   	public String easyFile(@RequestParam(value = "file", required = false) List<MultipartFile> file) {
   		try {
   			easySendService.getData(file);
   			return "ä¸Šä¼ æˆåŠŸ";
   		} catch (Exception e) {
   			// TODO: handle exception
   			return "ä¸Šä¼ å¤±è´¥";
   		}
   	}
   	
   	@RequestMapping("/getFileList")
   	public String getFileList(HttpServletRequest req) {
   		req.setAttribute("listResource", easySendService.getAllFiles());
   		return "file";
   	}
   	
   	@RequestMapping("/transWeights")
   	public void transWeights(HttpServletResponse response, HttpServletRequest req) {
   		String url = req.getParameter("url");
   		easySendService.downloadFile(response, url);
   	}
   ```

   

# å…³äºMavenæ‰“åŒ…é¡¹ç›®

â€‹	æ‰“åŒ…å‘å¸ƒæ˜¯æ‘†è„±IDEçš„æ‰‹æ®µï½ï¼Œå¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç«  [ä½¿ç”¨eclipseå¯¹springBooté¡¹ç›®å¦‚ä½•è¿›è¡Œæ‰“åŒ…éƒ¨ç½²](https://www.cnblogs.com/joeyJss/p/11174884.html)

# æ€»ç»“

â€‹	å¤§æ¦‚èŠ±äº†1å¤©å¤šä¸€ç‚¹æ—¶é—´å†™å®ŒçœŸä¸ªé¡¹ç›®ï¼Œæ¸©æ•…äº†å¾ˆå¤šçŸ¥è¯†ï¼Œä¹Ÿä»ä¸­çŸ¥æ–°äº†ä¸€äº›ï½