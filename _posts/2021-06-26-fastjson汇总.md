---
title: fastjson汇总
tags: 架构
---

# fastjson汇总

## **fastjson简介：**

Fastjson是一个Java语言编写的高性能功能完善的JSON库。fastjson采用独创的算法，将parse的速度提升到极致，超过所有json库，包括曾经号称最快的jackson。并且还超越了google的二进制协议protocol buf。Fastjson完全支持[http://json.org](http://json.org/)的标准，也是官方网站收录的参考实现之一。支持各种JDK类型。包括基本类型、JavaBean、Collection、Map、Enum、泛型等。支持JDK 5、JDK 6、Android、阿里云手机等环境。

maven依赖：

```html
		<!-- fastjson -->
		<dependency>
			<groupId>com.alibaba</groupId>
			<artifactId>fastjson</artifactId>
			<version>1.2.30</version>
		</dependency>
```



## 生成json字符串

JavaBean,List<JavaBean>,List<String>,List<Map<String,Object> 生成json字符串

```java
String jsonStrng = JSON.toJSONString(object);
```

##  解析json字符串为四种类型

1. JavaBean

   ```java
   Person person = JSON.parseObject(jsonString, Person.class);
   ```

2. List<JavaBean>

   ```java
   List<Person> listPerson =JSON.parseArray(jsonString, Person.class);
   ```

3. List<String>

   ```java
   List<String> listString = JSON.parseArray(jsonString, String.class);
   ```

4. List<Map<String,Object>>

   ```java
   List<Map<String, Object>> listMap = JSON.parseObject(jsonString, new TypeReference<List<Map<String,Object>>>(){});
   ```

​      注意：此处可看出fastjson反射机制比gson更准确， id = 1001 通过fastjson反射仍是 id = 1001 , 而通过gson反射结果 为 id =1001.0

## JSONObject与JSON类型的转换

```java
JSONObject jsonObject = JSON.parseObject(jsonString);
```

## JSONObject中 Map, List转换

1. **Map转JSONObject**

   ```
   JSONObject json = JSONObject.parseObject(JSON.toJSONString(itemMap));
   ```
2. **JSONObject转Map**

   ```
   Map<String, Object> map = JSONObject.toJavaObject(itemJSONObj, Map.class); 
   ```
   

注：JSON.parseObject()同样可以转换

3. **List转JSONArray**

   ```
   JSONArray array = JSONArray.parseArray(JSON.toJSONString(itemList)); 
   ```

# fastjson解析null值处理 null的属性不显示

​	这个主要是一些插件可以显示null，格式化好看一点，参考[这里](https://blog.csdn.net/u012448083/article/details/75026310)

# 总结

还有很多详细的demo，可以参看[这里](https://www.cnblogs.com/wdzhz/p/11065571.html)

